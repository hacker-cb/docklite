# ‚úÖ –§–∞–∑–∞ 2 —É–ª—É—á—à–µ–Ω–∞: Auto-Setup!

## –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ

### ‚ùå –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã–ª:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å DockLite
2. –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker exec -it docklite-backend python create_user.py`
3. –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ CLI
4. –ü–æ—Ç–æ–º –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ UI

**–ü—Ä–æ–±–ª–µ–º–∞**: –Ω–µ—É–¥–æ–±–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏–π Docker

### ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ (Auto-Setup)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ:
1. –ó–∞–ø—É—Å–∫–∞–µ—Ç DockLite
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç UI
3. –í–∏–¥–∏—Ç –∫—Ä–∞—Å–∏–≤—É—é —Ñ–æ—Ä–º—É "Initial Setup"
4. –ó–∞–ø–æ–ª–Ω—è–µ—Ç username/password
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –∫–∞–∫ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –±–µ–∑ Docker –∫–æ–º–∞–Ω–¥!

## –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend
- ‚úÖ `/api/auth/setup/check` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω—É–∂–Ω–∞ –ª–∏ –ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ `/api/auth/setup` - —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–≤–æ–≥–æ admin (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞—è)
- ‚úÖ `AuthService.has_users()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `AuthService.create_first_admin()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å auto-admin

### Frontend
- ‚úÖ `Setup.vue` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ setup –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥: Setup ‚Üí Login ‚Üí App
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è password match
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ—Å–ª–µ setup

## UX Flow

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–ø—É—Å—Ç–∞—è –ë–î)
```
1. –û—Ç–∫—Ä—ã—Ç—å UI
   ‚Üì
2. Backend: GET /api/auth/setup/check ‚Üí {setup_needed: true}
   ‚Üì
3. –ü–æ–∫–∞–∑–∞—Ç—å Setup.vue
   ‚Üì
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É
   ‚Üì
5. POST /api/auth/setup ‚Üí —Å–æ–∑–¥–∞–µ—Ç admin + –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω
   ‚Üì
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ localStorage
   ‚Üì
7. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
```

### –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏ (–µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```
1. –û—Ç–∫—Ä—ã—Ç—å UI
   ‚Üì
2. Backend: GET /api/auth/setup/check ‚Üí {setup_needed: false}
   ‚Üì
3. –ü–æ–∫–∞–∑–∞—Ç—å Login.vue
   ‚Üì
4. –û–±—ã—á–Ω—ã–π –≤—Ö–æ–¥
```

### –° –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
```
1. –û—Ç–∫—Ä—ã—Ç—å UI
   ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω: GET /api/auth/me
   ‚Üì
3. –ï—Å–ª–∏ OK ‚Üí –≤–æ–π—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ï—Å–ª–∏ 401 ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å Login
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ setup
- `/api/auth/setup` —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ë–î –ø—É—Å—Ç–∞—è**
- –ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí 400 Bad Request
- –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–≥–æ admin —á–µ—Ä–µ–∑ setup

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è
- Username: –º–∏–Ω. 3 —Å–∏–º–≤–æ–ª–∞
- Password: –º–∏–Ω. 6 —Å–∏–º–≤–æ–ª–æ–≤
- Passwords must match
- Email: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### –ù–æ–≤—ã–µ (1 —Ñ–∞–π–ª)
- `frontend/src/Setup.vue` (200+ —Å—Ç—Ä–æ–∫)

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ (5 —Ñ–∞–π–ª–æ–≤)
- `backend/app/services/auth_service.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã has_users() –∏ create_first_admin()
- `backend/app/api/auth.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã /setup/check –∏ /setup
- `frontend/src/api.js` - –¥–æ–±–∞–≤–ª–µ–Ω authApi.checkSetup() –∏ authApi.setup()
- `frontend/src/App.vue` - –¥–æ–±–∞–≤–ª–µ–Ω Setup –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ª–æ–≥–∏–∫–∞
- `frontend/src/Login.vue` - —É–±—Ä–∞–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è Docker –∫–æ–º–∞–Ω–¥

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —Ñ–∞–π–ª–∞)
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥"
- `QUICKSTART.md` - –¥–æ–±–∞–≤–ª–µ–Ω Initial Setup
- `START_HERE.md` - –¥–æ–±–∞–≤–ª–µ–Ω Initial Setup

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **User-friendly** - –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å Docker
2. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - setup —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
3. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥** –ø–æ—Å–ª–µ setup
4. ‚úÖ **–ö—Ä–∞—Å–∏–≤—ã–π UI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
5. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
6. ‚úÖ **Flexibility** - CLI –≤—Å–µ –µ—â–µ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
```
User ‚Üí UI ‚Üí Setup Screen
     ‚Üí –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É
     ‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è admin
     ‚Üí Auto-login
     ‚Üí Dashboard
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–∏–∑–∏—Ç
```
User ‚Üí UI ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
     ‚Üí –ï—Å–ª–∏ –≤–∞–ª–∏–¥–µ–Ω: Auto-login ‚Üí Dashboard
     ‚Üí –ï—Å–ª–∏ –Ω–µ—Ç: Login Screen
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```
Admin ‚Üí CLI: docker exec ... python create_user.py
     ‚Üí –ù–æ–≤—ã–π user —Å–æ–∑–¥–∞–Ω
     ‚Üí User ‚Üí UI ‚Üí Login Screen ‚Üí Dashboard
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

```bash
# 1. –û—á–∏—Å—Ç–∏—Ç—å –ë–î
docker exec -it docklite-backend rm /data/docklite.db

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker exec -it docklite-backend alembic upgrade head

# 3. –û—Ç–∫—Ä—ã—Ç—å UI
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å—Å—è Setup Screen

# 4. –°–æ–∑–¥–∞—Ç—å admin —á–µ—Ä–µ–∑ UI

# 5. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ logout –∏ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
```

## CLI –≤—Å–µ –µ—â–µ –¥–æ—Å—Ç—É–ø–µ–Ω

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ CI/CD:

```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
docker exec -it docklite-backend python create_user.py

# CLI —Ä–µ–∂–∏–º
docker exec -it docklite-backend python create_user.py admin pass123 admin@email.com --admin
```

## API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ (–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω)
- `POST /api/auth/login` - –≤—Ö–æ–¥
- `GET /api/auth/setup/check` - –ø—Ä–æ–≤–µ—Ä–∫–∞ setup
- `POST /api/auth/setup` - –ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ (—Ç—Ä–µ–±—É—é—Ç —Ç–æ–∫–µ–Ω)
- `GET /api/auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `POST /api/auth/logout` - –≤—ã—Ö–æ–¥
- `/api/projects/*` - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- `/api/deployment/*` - deployment info

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–æ—Ä–∞–∑–¥–æ –ª—É—á—à–µ UX! –ö–∞–∫ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö SaaS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. üéâ

